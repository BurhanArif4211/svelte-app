# Headless-Wordpress Single Page

HWSPA is a silly name that I gave to a web stack that I *discovered* recently.

This was an experiement. One day, I was sitting on my chromebook struggling to fit the wordpress page editor on my screen to edit a single page on some old woocommerce store. I got frustrated with the conflicts between plugins and themes and inconsistencies in the design of the store. At that moment like any sane person would plan, I set-out to rebuild the whole wheel.

I researched wordpress. I found that most of the community that uses wordpress are non-technical people. Nobody bothers optimizing anything manually. If you can think of it, there is a plugin for it. There are plugins for finding more plugins. The whole ecosystem is driven with this approach. This has created the dreaded hounds of plugin market phenomenon. Every good plugin/theme has 3-tier pricing plan with 20 dependancies on other 3rd-party plugins.

I hated the frontend expirience with wordpress so i decided that i would try to remove all the theme and junk from the installation. I found out that it is actually possible to remove the theme from a worpress installation and only keep the management side with the management plugins like woocommerce, analytics, discord plugins, etc.
Then i researched how can we access the json data from wordpress. I knew already about the */wp-json* which allows mostly internal communication between the wordpress site. But some plugins (including woocommerce) expose publically, the web with product information, cart information, much more. the WooCommerce Store API uses Nonce based authentication to check which customer has what product in their cart. This is a loose form of authentication so using it with http headers and exchanging JSON with a custom Javascript frontend prooves to be a very efficient method. This is just scratching the surface, we can do soo much. 


![Architecture diagram of the stack](/img/blogThumbs/3.webp)

till this point i got tired so i used deep seek :X i am sucha  bad boi


```md

# Headless WordPress Single Page Application (HWSPA)

## Why I Built This Stack

Let's be honest, WordPress can be frustrating. One day, while trying to edit a WooCommerce store page on my Chromebook, I found myself wrestling with plugin conflicts, theme inconsistencies, and an editor that just wouldn't fit on my screen. Like any reasonable developer, I decided to rebuild everything from scratch.

What I discovered along the way became what I call HWSPA, Headless WordPress Single Page Application. It's not revolutionary, but it's incredibly practical for anyone tired of WordPress's frontend limitations.

## The Problem with Traditional WordPress

Most WordPress users aren't technical. The ecosystem reflects this: there's a plugin for everything, plugins for finding plugins, and endless dependencies. Every "premium" theme or plugin comes with multiple pricing tiers and a web of third-party requirements.

The frontend experience suffers from this complexity. Themes fight with plugins, page builders create bloated code, and performance takes a backseat to features. I realized I didn't need WordPress for the frontend—I needed it for what it does best: content management.

## The Solution: Decoupling WordPress

Here's the simple idea: keep WordPress for content management and backend functionality, but build the frontend separately as a modern single-page application (SPA).

### Technical Stack Overview:
- **Backend**: WordPress with WooCommerce (no theme)
- **Frontend**: Svelte SPA with Tailwind CSS
- **Communication**: WordPress REST API (including WooCommerce Store API)
- **Hosting**: Standard PHP server (Apache/Nginx)

## How the Server is Structured

Here's my directory structure that makes this work:

```
/public_html/                    # Web server root
├── index.html                   # SPA entry point
├── assets/                      # JS, CSS, images for SPA
│   ├── js/
│   ├── css/
│   └── images/
├── wp/                          # WordPress installation
│   ├── wp-admin/
│   ├── wp-content/
│   ├── wp-includes/
│   └── wp-json/ → REST API endpoints
```

### Apache Configuration

The magic happens in the `.htaccess` file:

```apache
# Serve SPA for all routes except /wp/*
RewriteEngine On
RewriteCond %{REQUEST_URI} !^/wp/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [L,QSA]

# WordPress rules (in /wp/.htaccess)
RewriteBase /wp/
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /wp/index.php [L]
```

This setup ensures:
- All requests to `/wp/*` go to WordPress
- Everything else serves the SPA
- The SPA handles routing client-side
- Clean URLs without hash fragments

## How the Frontend Works

The SPA is just static HTML, CSS, and JavaScript files. No PHP, no server-side rendering. It fetches all data from WordPress REST APIs:

```javascript
// Example: Fetching products
const response = await fetch('/wp/wp-json/wc/store/products');
const products = await response.json();
```

### Key WordPress APIs Used:
- **Content**: `/wp-json/wp/v2/` (posts, pages, categories)
- **WooCommerce**: `/wp-json/wc/store/` (products, cart, checkout)
- **Custom endpoints**: For ACF fields and other custom data

The SPA communicates with WordPress using standard HTTP requests. For authenticated actions (like adding to cart), WooCommerce uses nonce-based authentication that's handled automatically through cookies.

## Extending with Custom REST Endpoints

Here's where it gets interesting. WordPress allows you to add custom REST API endpoints with minimal PHP code. I use this extensively with Advanced Custom Fields (ACF).

### Example: Adding Teacher Profiles

Imagine you're building a university website. Instead of hardcoding teacher information, you can:

1. **Create an ACF field group** for teachers (name, photo, bio, contact info)
2. **Add a custom REST endpoint**:

```php
// In functions.php or a custom plugin
add_action('rest_api_init', function() {
    register_rest_route('university/v1', '/teachers', [
        'methods' => 'GET',
        'callback' => 'get_teachers_data',
        'permission_callback' => '__return_true'
    ]);
});

function get_teachers_data() {
    // Query teachers from ACF options or custom post type
    $teachers = get_field('teachers', 'option');
    return rest_ensure_response($teachers);
}
```

3. **Fetch in the SPA**:

```javascript
// Frontend fetch
const response = await fetch('/wp/wp-json/university/v1/teachers');
const teachers = await response.json();

// Display dynamically
teachers.forEach(teacher => {
    // Render teacher card
});
```

### Benefits of This Approach:

1. **Non-technical admins can update content** through WordPress dashboard
2. **Real-time updates** without touching frontend code
3. **Structured data** through ACF field groups
4. **Reusable components** in the SPA

## Real-World Implementation: My E-commerce Store

For my auto parts store, here's what I built:

### Backend (WordPress):
- WooCommerce for products, inventory, orders
- ACF for homepage carousels, banners, featured sections
- Standard WordPress for pages (About, Contact, etc.)
- Various management plugins (analytics, SEO, etc.)

### Frontend (Svelte SPA):
- **Product listings** with search, filters, pagination
- **Shopping cart** with real-time updates
- **Checkout process** optimized for Pakistan (COD only)
- **Responsive design** that works perfectly on mobile
- **Fast loading** (no WordPress theme bloat)

### Custom Endpoints I Created:
- `/acf/v1/options/carouselslides` - Homepage hero carousel
- `/acf/v1/options/salescarousel` - Promotional banners
- Various other endpoints for dynamic content sections

## Benefits I've Experienced

### For Development:
- **Clean separation** of concerns
- **Modern frontend tools** (Svelte, Vite, Tailwind)
- **Better performance** (static assets, optimized loading)
- **Easier debugging** (browser devtools work perfectly)

### For Content Management:
- **Familiar WordPress dashboard** for admins
- **Real-time content updates** without deployment
- **Structured content** through ACF
- **Plugin ecosystem** still available for backend

### For Users:
- **Fast page loads** (no WordPress theme overhead)
- **Smooth interactions** (SPA navigation)
- **Mobile-friendly** by design
- **Clean, consistent UI**

## Common Use Cases

This approach works well for:

1. **E-commerce stores** (like mine)
2. **University websites** (departments, faculty, courses)
3. **Business directories** (listings with search/filters)
4. **Event websites** (schedules, registrations)
5. **Any content-heavy site** that needs a custom frontend

## Challenges and Considerations

### SEO
Since it's an SPA, you need to handle:
- Proper meta tags (I use `svelte:head`)
- Server-side rendering for crawlers (optional, but recommended for large sites)
- Sitemaps and structured data

### Authentication
WooCommerce uses cookie-based sessions. This works well but requires:
- Proper CORS setup if hosting frontend separately
- Secure handling of nonce tokens
- Session management

### Caching
- WordPress REST API responses can be cached
- Frontend assets can be aggressively cached (they're static)
- You could consider a CDN for global distribution

HWSPA isn't about reinventing the wheel—it's about using the right tool for each job. WordPress excels at content management and has a massive plugin ecosystem. Modern JavaScript frameworks excel at building fast, interactive user interfaces.

By combining them, you get:
- The content management power of WordPress
- The user experience of a modern SPA
- The performance of static assets
- The flexibility to create exactly what you need

It's not for every project, but for content-heavy sites that need custom frontends, it's been a game-changer for me. The admin team gets their familiar WordPress dashboard, users get a fast and modern website, and I get to use the tools I enjoy.

Give it a try on your next project, you might find it's exactly what you've been looking for.

```